\documentclass[a4paper,10pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{polski}

\title{Sprawozdanie ISS\newline\small Ćwiczenie 1: Podstawy tworzenia opisów i modelowania obiektów sterowania}

\author{Adam Jordanek 168139, Tomasz Klimek 168092}

\begin{document}
\maketitle

\section{Wstęp}\label{sec:wstęp}
%TODO skopiowane z listy (trzeba to przerobić)
Tworzenie opisów (modeli) matematycznych obiektów sterowania, a także wykorzystanie tych opisów do badania i analizy (modelowania) obiektów – są istotnymi czynnościami w trakcie projektowania informatycznych systemów sterowania. Do realizacji tych czynności w praktyce inżynierskiej powszechnie stosuje się narzędzie informatyczne Matlab wraz ze specjalistycznym oprogramowaniem dodatkowym (tzw. toolbox’y) oraz nakładką Simulink.

\section{Zadanie 1 \textit{\small Tworzenie modeli matematycznych}}\label{sec:zad1}

\begin{itemize}
\item Inercyjny I rzędu

\begin{itemize}
\item Transmitancja	
	\begin{eqnarray}
		G(s)= {k \over {Ts + 1}} = {Y(s) \over U(s)}
	\end{eqnarray}
\item Równanie różniczkowe
	\begin{eqnarray}
		\nonumber Y(s) = {k \over {Ts + 1}} U(s)\\ 
		\nonumber TsY(s) + Y(s) = kU(s)\\
		T\dot{y}(t) + y(t) = ku(t) \label{eq:iter_rozn}
	\end{eqnarray}
\item Równanie stanu
\newline Ogólna postać równania stanu:
	\begin{eqnarray}
		\nonumber \left\{ \begin{array}{l}
			\dot{x}(t) = Ax(t) + Bu(t)\\
			y(t) = C^{T}x(t)
		\end{array} \right.
	\end{eqnarray}
W równaniu różniczkowym wyjście obiektu jest najwyżej w pierwszej pochodnej, więc mamy do czynienia z obiektem stopnia pierwszego, a wektor stanu x(t) będzie reprezentowany przez jednoelementowy wektor $x(t) = y(t)$, parametry A, B i C będą zwykłymi parametrami liczbowymi, a równanie stanu można zapisać jako:
	\begin{eqnarray}
		\nonumber \left\{ \begin{array}{l}
			\dot{x}(t) = ax(t) + bu(t)\\
			y(t) = cx(t)
		\end{array} \right.
	\end{eqnarray}
Aby uzyskać równanie stanu wystarczy zauważyć, że c=1, oraz przekształcić równanie \ref{eq:iter_rozn} w następujący sposób:
	\begin{eqnarray}
		\nonumber T\dot{y}(t) + y(t) = ku(t)\\
		\nonumber T\dot{x}(t) + x(t) = ku(t)\\
		\nonumber T\dot{x}(t) = - x(t) + u(t)\\
		\dot{x}(t) = -{1 \over T}x(t) + {k \over T}u(t)
	\end{eqnarray}
W ten sposób przyrównując otrzymaliśmy gotowe równanie stanu.
	\begin{eqnarray}
		\left\{ \begin{array}{l}
			\dot{x}(t) = -{1 \over T}x(t) + {k \over T}u(t)\\
			y(t) = x(t)
		\end{array} \right.
	\end{eqnarray}
\item Opis w Matlabie
\newline Opis za pomocą równania stanu w Matlabie uzyskuje się przez podanie współczynników wielomianów $Y(s)$ oraz $U(s)$ z transmitancji (zaczynając od najwyższej) do funkcji $tf2ss(Y, U)$, która zwróci parametry równania stanu.
Ponieważ w Matlabie nie możemy stosować stałych jak k, czy T, podamy w ich miejsce wartości liczbowe.
\newline\newline Dla $k=1$, $T=2$
\newline $>>[A,B,C] = tf2ss([1], [2 \ 1])$
\newline Zwraca wynik:
$A = -0.5, B = 1, C = 0.5000$
\newline \newline Parametry zwrócone przez Matlaba różnią się od obliczonych przez nas prawdopodobnie dlatego, że Matlab przyjął inny wektor x(t) na samym początku. Jednak oba opisy są równoważne, ponieważ można przedstawić je w taki sposób:
		\begin{eqnarray}
		\nonumber \left\{ \begin{array}{l}
			\dot{x}(t) = -0.5x(t) + u(t)\\
			y(t) = 0.5x(t)
		\end{array} \right.\\
		\nonumber \dot{y}(t) = 0.5\dot{x}(t)\\
		\nonumber \dot{y}(t) = -0.25x(t) + 0.5u(t)\\
		\nonumber \dot{y}(t) = -0.5y(t) + 0.5u(t)\\
		2\dot{y}(t) + y(t) = u(t)
	\end{eqnarray}
Po porównaniu wyniku przekształceń z równaniem \ref{eq:iter_rozn} widzimy, że $k=1$, $T=2$, czyli tak jak założyliśmy.

\end{itemize}

\item Inercyjny II rzędu
\begin{itemize}
\item Transmitancja
	\begin{eqnarray}
		G(s)= {k \over \left({T_{1}s + 1}\right) \left({T_{2}s + 1}\right)} = {Y(s) \over U(s)}
	\end{eqnarray}
\item Równanie różniczkowe
	\begin{eqnarray}
		\nonumber Y(s) = {k \over {\left({T_{1}s + 1}\right) \left({T_{2}s + 1}\right)}} U(s)\\
		\nonumber Y(s)\left({T_{1}s + 1}\right) \left({T_{2}s + 1}\right)= kU(s)\\
		\nonumber T_{1}T_{2}s^{2}Y(s) + \left({T_{1} + T_{2}}\right) s Y(s) + Y(s)= kU(s)\\
		T_{1}T_{2}\ddot{y}(t) + \left({T_{1} + T_{2}}\right) \dot{y}(t) + y(t)= ku(t) \label{eq:inerc_rozn}
	\end{eqnarray}
\item Równanie stanu
\newline W równaniu różniczkowym wyjście obiektu jest najwyżej w drugiej pochodnej, więc mamy do czynienia z obiektem stopnia drugiego, a wektor stanu x(t) będzie reprezentowany przez dwuelementowy wektor:
 	\begin{eqnarray}
		\nonumber x(t) = \left[ 
			\begin{array}{l}
				x_{1}(t)\\
				x_{2}(t)
			\end{array}
		\right] = \left[ 
			\begin{array}{l}
				y(t)\\
				\dot{y}(t)
			\end{array}
		\right]
	\end{eqnarray}
Parametry A, B i C będą natomiast miały postać:
	\begin{eqnarray}
		\nonumber A = \left[ 
			\begin{array}{ll}
				a_{11} & a_{12}\\
				a_{21} & a_{22}
			\end{array}
		\right], B = \left[ 
			\begin{array}{l}
				b_{1}\\
				b_{2}
			\end{array}
		\right], C = \left[ 
			\begin{array}{l}
				c_{1}\\
				c_{2}
			\end{array}
		\right]
	\end{eqnarray}
Aby uzyskać równanie stanu przekształcamy równanie \ref{eq:inerc_rozn} otrzynując:
	\begin{eqnarray}
		\nonumber T_{1}T_{2}\ddot{y}(t) + \left({T_{1} + T_{2}}\right) \dot{y}(t) + y(t)= ku(t)\\
		\nonumber T_{1}T_{2}\dot{x_{2}}(t) + \left({T_{1} + T_{2}}\right) x_{2}(t) + x_{1}(t)= ku(t)\\
		\nonumber T_{1}T_{2}\dot{x_{2}}(t) = - \left({T_{1} + T_{2}}\right) x_{2}(t) - x_{1}(t) + ku(t)\\
		\dot{x_{2}}(t) = -{{T_{1} + T_{2}} \over T_{1}T_{2}}x_{2}(t) -{1 \over T_{1}T_{2}}x_{1}(1) + {k \over T_{1}T_{2}}u(t)
	\end{eqnarray}
Z otrzymanego równania możemy wywnioskować wartości parametrów A, B i C, oraz zapisać ostateczną postać równania stanu:
	\begin{eqnarray}
		\left\{
			\begin{array}{l}
				x(t) = \left[ 
			\begin{array}{ll}
				0 & 1\\
				-{1 \over T_{1}T_{2}} & -{{T_{1} + T_{2}} \over T_{1}T_{2}}
			\end{array}
		\right] x(t) + \left[ 
			\begin{array}{l}
				0\\
				{k \over T_{1}T_{2}}
			\end{array}
		\right] u(t)\\
				y(t) = \left[ 
			\begin{array}{ll}
				1 & 0
			\end{array}
		\right]x(t)
			\end{array} \right.
	\end{eqnarray}
\item Opis w Matlabie
\newline Opis uzyskamy analogicznie jak w poprzednich przykładach.
\newline\newline Dla $k=1$, $T=2$
\newline $>>[A,B,C] = tf2ss([1], [2 \ 3 \ 1])$
\newline Zwraca wynik:
$A = \left[ \begin{array}{ll} -1.5 & -0.5\\ 1 & 0 \end{array} \right], B = \left[ \begin{array}{l} 1\\ 0 \end{array} \right], C = \left[ \begin{array}{ll} 0 & 0.5 \end{array} \right]$
\newline \newline Parametry zwrócone przez Matlaba różnią się od obliczonych przez nas prawdopodobnie dlatego, że Matlab przyjął inny wektor x(t) na samym początku. Jednak oba opisy są równoważne, ponieważ można przedstawić je w taki sposób:
	\begin{eqnarray}
		\nonumber \left\{ \begin{array}{l}
			\dot{x_{1}}(t) = -1.5x_{1}(t) -0.5x_{2} + u(t)\\
			\dot{x_{2}}(t) = x_{1}\\
			y(t) = 0.5x(t)
		\end{array} \right. \\
		\nonumber \ddot{y}(t) = 0.5\ddot{x_{2}}(t)\\
		\nonumber \ddot{y}(t) = 0.5\dot{x_{1}}(t)\\
		\nonumber \ddot{y}(t) = -0.75x_{1}(t) -0.25x_{2}(t) + 0.5u(t)\\
		\nonumber \ddot{y}(t) = -1,5\dot{y}(t) -0.5y(t) + 0.5u(t)\\
		2\ddot{y}(t) + 3\dot{y}(t) + y(t) = u(t)
	\end{eqnarray}
\end{itemize}
Po porównaniu wyniku przekształceń z równaniem \ref{eq:inerc_rozn} widzimy, że $T_{1}T_{2}=2$, $T_{1} + T_{2}=3$, czyli tak pasuje do założonych.

\item Całkujący rzeczywisty

\begin{itemize}
\item Transmitancja	
	\begin{eqnarray}
		G(s)= {k \over {s \left( Ts + 1 \right) }} = {Y(s) \over U(s)}
	\end{eqnarray}
\item Równanie różniczkowe
	\begin{eqnarray} 
		\nonumber Y(s) = {k \over {s \left( Ts + 1 \right) }} U(s)\\ 
		\nonumber Ts^{2}Y(s) + sY(s) = kU(s)\\
		T\ddot{y}(t) + \dot{y}(t) = ku(t) \label{eq:calk_rozn}
	\end{eqnarray}
\item Równanie stanu
\newline W równaniu różniczkowym wyjście obiektu jest najwyżej w drugiej pochodnej, więc mamy do czynienia z obiektem stopnia drugiego, a wektor stanu x(t) będzie reprezentowany przez dwuelementowy wektor:
 	\begin{eqnarray}
		\nonumber x(t) = \left[ 
			\begin{array}{l}
				x_{1}(t)\\
				x_{2}(t)
			\end{array}
		\right] = \left[ 
			\begin{array}{l}
				y(t)\\
				\dot{y}(t)
			\end{array}
		\right]
	\end{eqnarray}
Parametry A, B i C będą natomiast miały postać:
	\begin{eqnarray}
		\nonumber A = \left[ 
			\begin{array}{ll}
				a_{11} & a_{12}\\
				a_{21} & a_{22}
			\end{array}
		\right], B = \left[ 
			\begin{array}{l}
				b_{1}\\
				b_{2}
			\end{array}
		\right], C = \left[ 
			\begin{array}{l}
				c_{1}\\
				c_{2}
			\end{array}
		\right]
	\end{eqnarray}
Aby uzyskać równanie stanu przekształcamy równanie \ref{eq:calk_rozn} otrzynując:
	\begin{eqnarray}
		\nonumber T\ddot{y}(t) + \dot{y}(t) = ku(t)\\
		\nonumber T\dot{x_{2}}(t) + x_{2}(t) = ku(t)\\
		\nonumber T\dot{x_{2}}(t) = - x_{2}(t) + ku(t)\\
		\dot{x_{2}}(t) = -{1 \over T}x_{2}(t) + {k \over T}u(t)
	\end{eqnarray}
Z otrzymanego równania możemy wywnioskować wartości parametrów A, B i C, oraz zapisać ostateczną postać równania stanu:
	\begin{eqnarray}
		\left\{
			\begin{array}{l}
				x(t) = \left[ 
			\begin{array}{ll}
				0 & 1\\
				0 & -{1 \over T}
			\end{array}
		\right] x(t) + \left[ 
			\begin{array}{l}
				0\\
				{k \over T}
			\end{array}
		\right] u(t)\\
				y(t) = \left[ 
			\begin{array}{ll}
				1 & 0
			\end{array}
		\right]x(t)
			\end{array} \right.
	\end{eqnarray}
\item Opis w Matlabie
\newline Opis uzyskamy analogicznie jak w poprzednich przykładach.
\newline\newline Dla $k=1$, $T=2$
\newline $>>[A,B,C] = tf2ss([1], [2 \ 1 \ 0])$
\newline Zwraca wynik:
$A = \left[ \begin{array}{ll} -0.5 & 0\\ 1 & 0 \end{array} \right], B = \left[ \begin{array}{l} 1\\ 0 \end{array} \right], C = \left[ \begin{array}{ll} 0 & 0.5 \end{array} \right]$
\newline \newline Parametry zwrócone przez Matlaba różnią się od obliczonych przez nas prawdopodobnie dlatego, że Matlab przyjął inny wektor x(t) na samym początku. Jednak oba opisy są równoważne, ponieważ można przedstawić je w taki sposób:
	\begin{eqnarray}
		\nonumber \left\{ \begin{array}{l}
			\dot{x_{1}}(t) = -0.5x_{1}(t) + u(t)\\
			\dot{x_{2}}(t) = x_{1}\\
			y(t) = 0.5x(t)
		\end{array} \right. \\
		\nonumber \ddot{y}(t) = 0.5\ddot{x_{2}}(t)\\
		\nonumber \ddot{y}(t) = 0.5\dot{x_{1}}(t)\\
		\nonumber \ddot{y}(t) = -0.25x_{1}(t) + 0.5u(t)\\
		\nonumber \ddot{y}(t) = -0,5\dot{y}(t) + 0.5u(t)\\
		2\ddot{y}(t) + \dot{y}(t) = u(t)
	\end{eqnarray}
Po porównaniu wyniku przekształceń z równaniem \ref{eq:calk_rozn} widzimy, że $k=1$, $T=2$, czyli tak jak założyliśmy.

\end{itemize}

\item Różniczkujący rzeczywisty
\begin{itemize}
\item Transmitancja
	\begin{eqnarray}
		G(s)= {ks \over \left({Ts + 1}\right)} = {Y(s) \over U(s)}
	\end{eqnarray}
\item Równanie różniczkowe
	\begin{eqnarray}
		Y(s) = {ks \over \left({Ts + 1}\right)}  U(s)\\
		\nonumber TsY(s)+Y(s)=k s U(s)\\
		\nonumber T\dot{y}(t)+y=k\dot{u}(t)
	\end{eqnarray}
\item Równanie stanu
%TODO
\end{itemize}

\item Proporcjonalny
\begin{itemize}
\item Transmitancja	
	\begin{eqnarray}
		G(s)= {k}= {Y(s) \over U(s)}
	\end{eqnarray}
\item Równanie różniczkowe
	\begin{eqnarray} 
		\nonumber Y(s) = k U(s)\\ \label{eq:prop_rozn}
		y(t)= ku(t)
	\end{eqnarray}
\end{itemize}

\end{itemize}

\section{Zadanie 2 \textit{\small Wyznaczanie charakterystyk czasowych}}\label{sec:zad2}

\begin{itemize}
\item Inercyjny I rzędu
\item Inercyjny II rzędu

\item Inercyjny I rzędu
\item Inercyjny I rzędu
\item Inercyjny I rzędu
\end{itemize}

\section{Zadanie 3 \textit{\small Wyznaczanie parametrów członów dynamicznych}}\label{sec:zad3}

\end{document}